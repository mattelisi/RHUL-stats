seq(50, 300, 50)
seq(30, 60, 5)
seq(100, 300, 50)
seq(30, 60, 10)
0.1061^2
-0.23387/0.3257
?combn
combn(1:10,3)
N <- 350
payment <- 8
(payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
N * 2 * 0.24 # = 177.6
3640 + 168
N <- 300
payment <- 8
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 330
payment <- 8
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 350
payment <- 8
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 345
payment <- 8
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 348
payment <- 8
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 349
payment <- 8
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 300
payment <- 10
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 300
payment <- 9
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 320
payment <- 9
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 310
payment <- 9
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
N <- 300
payment <- 9
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
prolific_cost + pavlovia_cost
3794.89 - (prolific_cost + pavlovia_cost)
N <- 300
payment <- 9
prolific_cost <- (payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N  #= 3848
pavlovia_cost <- N * 2 * 0.24 # = 177.6
(payment  + (0.25 * payment ) + (0.25 * payment  * 0.2)) * N
N * 2 * 0.24
prolific_cost + pavlovia_cost
3794.89 - (prolific_cost + pavlovia_cost)
monthly_payment(495000, ir=0.0519)
rm(list=ls())
# load package
library(FinancialMath)
# ----------------------------------------------------------------------------
# current
deposit <- 125000
house_price <- 485000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0439
tab2f <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=T)
# Thanks for your time on the phone earlier, as we discussed I’ve had a look at some figures for you based on todays interest rates. As you’ve probably heard these are changing frequently so please use them as a guide rather than assume they will be exactly like this. For reference the product we currently have offered is 4.39% and £1,835pm
#
# If you bought at £470,000 and used a £125,000 deposit and a term of 29 years as you are now monthly payments on a 2 year fixed would be approx. £2,010 @ 5.59% and 5 year fixed approx. £1,925 @ 5.19%.
#
# To keep the monthly payment around where is currently is we would probably need to cap the mortgage at about £310,000-£320,000, or we could look at taking the term to your 75th birthday which would bring it a little close at approx. £1,900pm.
# 5 year fixed at 5.19%.
deposit <- 125000
house_price <- 460000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=T)
# ----------------------------------------------------------------------------
monthly_payment <- function(house_price, ir, mortgage_fee=999, deposit=125000, length=29){
mortgage_amount <- house_price - deposit + mortgage_fee
pay_tab <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=F)
payment <- unique(pay_tab$Schedule[1:24,"Payment"])
return(payment)
}
house_price <- seq(450000, 480000, length.out=150)
payment_2y <- rep(NA, 150)
payment_5y <- rep(NA, 150)
for(i in 1:150){
payment_2y[i] <- monthly_payment(house_price[i], ir=0.0559)
payment_5y[i] <- monthly_payment(house_price[i], ir=0.0519)
}
plot(x=house_price, y=payment_2y, type="o", ylim=c(1700, 2200))
lines(x=house_price, y=payment_5y, type="o", col="blue")
abline(h=1835, lty=2)
monthly_payment(465000, ir=0.0559)
monthly_payment(495000, ir=0.0519)
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 475000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 + 5# in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 495000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 475000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 500000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
130/500
125/475
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 500000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 500000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0559
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
# 5 year fixed at 5.19%.
deposit <- 130000
house_price <- 500000
mortgage_fee <- 999
mortgage_amount <- house_price - deposit + mortgage_fee #360999
length <- 29 # in years
ir <- 0.0519
tab5f_1 <- amort.table(Loan=mortgage_amount ,
n=length * 12,
pmt=NA,
i=ir/12,
ic=1,
pf=1,
plot=FALSE)
unique(tab5f_1$Schedule[1:24,"Payment"])
library(devtools)
install_github("mattelisi/mlisi") # required for some dependancies
install_github("mattelisi/bmsR")
m <- structure(c(2.50809867187394e-22, 0.000146611855314775, 4.58668624689671e-25, 4.10535400464176e-07, 0.0686634208305935, 0.0367833971579169, 0.000110346493359948, 1.68129802885811e-08, 0.108275519613786, 3.9578164134093e-11, 0.0367837099909541, 1.08999881504e-07, 0.0343412062159018,  0.00446326510403562, 0.00172330666747482, 0.000990826155243488,  0.158393579220946, 0.0295386936257688, 0.00012552265085804, 0.0272190104668559, 0.0530936016907313, 2.07255371227757e-10, 0.0214823528123676,   4.73437495302293e-05, 0.677938621542126, 5.20954432898137e-08,  0.000627393517771912, 0.000388486329012404, 3.17565869877651e-18,  0.191176500286399, 3.83899865682068e-07, 0.0619217494201652,   0.559188952807853, 5.06676447796227e-09, 0.0418921682773635,  0.702014475355336, 0.249399681241455, 0.862817395918837, 0.864775715064725,  0.865617369930796, 0.147322698727657, 0.643610120435765, 0.866608545004982,   0.789544918511435, 0.207285291019464, 0.866813333179825, 0.779961587662899,  0.258256692887969, 0.0337525764999333, 0.116769634805204, 0.117034665657295,   0.11714857188609, 0.497854787795748, 0.0871031579431148, 0.117282712780637,   0.106853285174707, 0.0635553531488496, 0.117310426702891, 0.105556322380037,   0.0349512426797482, 0.00456791450058339, 0.0158030402211649,  0.0158389190927326, 0.0158543351634575, 0.127765513425055, 0.0117881305510349, 0.0158724891702976, 0.0144610196138568, 0.00860128171931599,  0.0158762348036855, 0.0143238588763795, 0.00473013632753477), .Dim = c(12L, 6L), .Dimnames = list(c("1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"), c("M1", "M2", "M3", "M4", "M5", "M6")))
m
m2 <- m*2
# the model evidences above sum to 1 for each participants
# (they are the Akaike weights from a yet unpublished study)
# so we convert them into log model evidences
m <- log(m)
# run model selection procedure
# VB_bms() is the main function of the package
bms0 <- VB_bms(m)
# load the library
library(bmsR)
# run model selection procedure
# VB_bms() is the main function of the package
bms0 <- VB_bms(m)
m2 <- log(m2)
bms0_2 <- VB_bms(m2)
bms0
bms0_2
bms0_3 <- VB_bms(m2)
bms0_3
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
system("git add -A")
system('git commit -m "pdf link added"')
system("git push origin main")
