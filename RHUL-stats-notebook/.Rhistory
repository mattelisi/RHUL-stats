bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#setwd("~/sync/blog/webdown")
setwd("/mnt/D/Dropbox/sync/blog/webdown")
blogdown::build_site()
blogdown::serve_site()
blogdown::stop_server()
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
rm(list=ls())
setwd("/mnt/D/Dropbox/baby")
setwd("/home/matteo/Dropbox/baby")# laptop path
library(tidyverse)
library(lubridate)
d <- readxl::read_excel('weight_growth.xlsx')
d_p <- readxl::read_excel('tab_wfa_girls_p_0_13.xlsx')
d_z <- readxl::read_excel('wfa_girls_0-to-13-weeks_zscores.xlsx')
interval(d$date[1], d$date)
# second in a week 604800
d$wtime <- as.double((d$date-d$date[1])/604800)
nappy_w <- 20
onesie_w <- 80
bodysuit_w <- 40
d$W <- d$weight -
nappy_w*d$nappy -
onesie_w*d$onesie -
bodysuit_w*d$bodysuit
d_skye <- d %>%
group_by(wtime) %>%
summarise(weight=mean(W)/1000)
library(ggtext)
d_p %>%
filter(Week<=8) %>%
select(Week, M, starts_with("P")) %>%
pivot_longer(starts_with("P"),
names_to="percentile",
values_to="weight") %>%
filter(!is.element(percentile,c("P01","P1","P99","P999"))) %>%
mutate(percentile = factor(as.numeric(substr(percentile,2,3)))) %>%
ggplot()+
theme_bw(base_family = "Helvetica", base_size = 12)+
theme(plot.caption=element_markdown(),
plot.title=element_markdown(),
plot.caption.position = 'plot') +
#geom_line(aes(x=Week,y=weight,group=percentile, color=percentile),size=1.5, alpha=0.6)+
geom_smooth(aes(x=Week,y=weight,group=percentile, color=percentile),size=1, alpha=0.4, se=F)+
geom_point(aes(x=Week,y=weight,group=percentile, color=percentile),size=1.5,pch=21)+
scale_color_viridis_d()+
scale_x_continuous(breaks=seq(1:13),limits=c(0,8))+
geom_line(data=d_skye, aes(x=wtime, y=weight), color="black",size=2) +
geom_line(data=d_skye, aes(x=wtime-1, y=weight), color="black",size=0.6, lty=2) +
geom_point(data=d_skye, aes(x=wtime, y=weight), color="black",size=3) +
labs(y="weight [Kg]",
title="**Skyler's weight by week**",
subtitle = "Percentile lines show WHO weight standards for baby girls",
caption = "*source: who.int/tools/child-growth-standards/standards/weight-for-age*") -> plot_skye
ggsave(filename="skye_weight.png",plot=plot_skye, width=6,height=6)
rm(list=ls())
setwd("/mnt/D/Dropbox/baby")
# setwd("/home/matteo/Dropbox/baby")# laptop path
library(tidyverse)
library(lubridate)
d <- readxl::read_excel('weight_growth.xlsx')
d_p <- readxl::read_excel('tab_wfa_girls_p_0_13.xlsx')
d_z <- readxl::read_excel('wfa_girls_0-to-13-weeks_zscores.xlsx')
interval(d$date[1], d$date)
# second in a week 604800
d$wtime <- as.double((d$date-d$date[1])/604800)
nappy_w <- 20
onesie_w <- 80
bodysuit_w <- 40
d$W <- d$weight -
nappy_w*d$nappy -
onesie_w*d$onesie -
bodysuit_w*d$bodysuit
d_skye <- d %>%
group_by(wtime) %>%
summarise(weight=mean(W)/1000)
library(ggtext)
d_p %>%
filter(Week<=12) %>%
select(Week, M, starts_with("P")) %>%
pivot_longer(starts_with("P"),
names_to="percentile",
values_to="weight") %>%
filter(!is.element(percentile,c("P01","P1","P99","P999"))) %>%
mutate(percentile = factor(as.numeric(substr(percentile,2,3)))) %>%
ggplot()+
theme_bw(base_family = "Helvetica", base_size = 12)+
theme(plot.caption=element_markdown(),
plot.title=element_markdown(),
plot.caption.position = 'plot') +
#geom_line(aes(x=Week,y=weight,group=percentile, color=percentile),size=1.5, alpha=0.6)+
geom_smooth(aes(x=Week,y=weight,group=percentile, color=percentile),size=1, alpha=0.4, se=F)+
geom_point(aes(x=Week,y=weight,group=percentile, color=percentile),size=1.5,pch=21)+
scale_color_viridis_d()+
scale_x_continuous(breaks=seq(1:13),limits=c(0,8))+
geom_line(data=d_skye, aes(x=wtime, y=weight), color="black",size=2) +
geom_line(data=d_skye, aes(x=wtime-1, y=weight), color="black",size=0.6, lty=2) +
geom_point(data=d_skye, aes(x=wtime, y=weight), color="black",size=3) +
labs(y="weight [Kg]",
title="**Skyler's weight by week**",
subtitle = "Percentile lines show WHO weight standards for baby girls",
caption = "*source: who.int/tools/child-growth-standards/standards/weight-for-age*") -> plot_skye
ggsave(filename="skye_weight.png",plot=plot_skye, width=6,height=6)
rm(list=ls())
setwd("/mnt/D/Dropbox/baby")
# setwd("/home/matteo/Dropbox/baby")# laptop path
library(tidyverse)
library(lubridate)
d <- readxl::read_excel('weight_growth.xlsx')
d_p <- readxl::read_excel('tab_wfa_girls_p_0_13.xlsx')
d_z <- readxl::read_excel('wfa_girls_0-to-13-weeks_zscores.xlsx')
interval(d$date[1], d$date)
# second in a week 604800
d$wtime <- as.double((d$date-d$date[1])/604800)
nappy_w <- 20
onesie_w <- 80
bodysuit_w <- 40
d$W <- d$weight -
nappy_w*d$nappy -
onesie_w*d$onesie -
bodysuit_w*d$bodysuit
d_skye <- d %>%
group_by(wtime) %>%
summarise(weight=mean(W)/1000)
library(ggtext)
d_p %>%
filter(Week<=12) %>%
select(Week, M, starts_with("P")) %>%
pivot_longer(starts_with("P"),
names_to="percentile",
values_to="weight") %>%
filter(!is.element(percentile,c("P01","P1","P99","P999"))) %>%
mutate(percentile = factor(as.numeric(substr(percentile,2,3)))) %>%
ggplot()+
theme_bw(base_family = "Helvetica", base_size = 12)+
theme(plot.caption=element_markdown(),
plot.title=element_markdown(),
plot.caption.position = 'plot') +
#geom_line(aes(x=Week,y=weight,group=percentile, color=percentile),size=1.5, alpha=0.6)+
geom_smooth(aes(x=Week,y=weight,group=percentile, color=percentile),size=1, alpha=0.4, se=F)+
geom_point(aes(x=Week,y=weight,group=percentile, color=percentile),size=1.5,pch=21)+
scale_color_viridis_d()+
scale_x_continuous(breaks=seq(1:13),limits=c(0,12))+
geom_line(data=d_skye, aes(x=wtime, y=weight), color="black",size=2) +
geom_line(data=d_skye, aes(x=wtime-1, y=weight), color="black",size=0.6, lty=2) +
geom_point(data=d_skye, aes(x=wtime, y=weight), color="black",size=3) +
labs(y="weight [Kg]",
title="**Skyler's weight by week**",
subtitle = "Percentile lines show WHO weight standards for baby girls",
caption = "*source: who.int/tools/child-growth-standards/standards/weight-for-age*") -> plot_skye
ggsave(filename="skye_weight.png",plot=plot_skye, width=6,height=6)
150 * 4.35
d_skye
150 * 4.22
633/7
200 * 4.22
844/7
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
d <- read_csv('../data/survey_march22/stats-survey-rhul_edit.csv')
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats")
library(tidyverse)
d <- read_csv('./data/survey_march22/stats-survey-rhul_edit.csv')
# -----------------------------------------------------------
# 1
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & !contains('TEXT')) %>%
mutate(id = 1:nrow(.)) %>%
pivot_longer(starts_with('models_'),names_to = 'what') %>%
filter(!is.na(value)) %>%
filter(value!="Other (please specify)") %>%
mutate(value_short = str_extract(value, pattern='^[^:\\.)]*')) %>%
# simplify labels (regex whiz may do it more elegantly)
mutate(value_short = ifelse(str_detect(value_short,"\\((?=e)"),
str_sub(value_short,1,-1 -2),
value_short)) %>%
mutate(value_short = ifelse(str_detect(value_short,"\\("),
str_c(value_short,")"),
value_short)) %>%
group_by(value_short) %>%
summarise(N = length(id)) %>%
arrange(N) %>%
mutate(value_short=as_factor(value_short)) %>%
ggplot(aes(y=value_short, x=N))+
theme_gray(12) +
geom_col() +
labs(y="")
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & contains('TEXT')) %>%
filter(!is.na(models_17_TEXT)) %>%
pull(models_17_TEXT)
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats")
library(tidyverse)
d <- read_csv('./data/survey_march22/stats-survey-rhul_edit.csv')
# -----------------------------------------------------------
# 1
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & !contains('TEXT')) %>%
mutate(id = 1:nrow(.)) %>%
pivot_longer(starts_with('models_'),names_to = 'what') %>%
filter(!is.na(value)) %>%
filter(value!="Other (please specify)") %>%
mutate(value_short = str_extract(value, pattern='^[^:\\.)]*')) %>%
# simplify labels (regex whiz may do it more elegantly)
mutate(value_short = ifelse(str_detect(value_short,"\\((?=e)"),
str_sub(value_short,1,-1 -2),
value_short)) %>%
mutate(value_short = ifelse(str_detect(value_short,"\\("),
str_c(value_short,")"),
value_short)) %>%
group_by(value_short) %>%
summarise(N = length(id)) %>%
arrange(N) %>%
mutate(value_short=as_factor(value_short)) %>%
ggplot(aes(y=value_short, x=N))+
theme_gray(12) +
geom_col() +
labs(y="")
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & contains('TEXT')) %>%
filter(!is.na(models_17_TEXT)) %>%
pull(models_17_TEXT) %>% kable()
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats")
library(tidyverse)
d <- read_csv('./data/survey_march22/stats-survey-rhul_edit.csv')
# -----------------------------------------------------------
# 1
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & !contains('TEXT')) %>%
mutate(id = 1:nrow(.)) %>%
pivot_longer(starts_with('models_'),names_to = 'what') %>%
filter(!is.na(value)) %>%
filter(value!="Other (please specify)") %>%
mutate(value_short = str_extract(value, pattern='^[^:\\.)]*')) %>%
# simplify labels (regex whiz may do it more elegantly)
mutate(value_short = ifelse(str_detect(value_short,"\\((?=e)"),
str_sub(value_short,1,-1 -2),
value_short)) %>%
mutate(value_short = ifelse(str_detect(value_short,"\\("),
str_c(value_short,")"),
value_short)) %>%
group_by(value_short) %>%
summarise(N = length(id)) %>%
arrange(N) %>%
mutate(value_short=as_factor(value_short)) %>%
ggplot(aes(y=value_short, x=N))+
theme_gray(12) +
geom_col() +
labs(y="")
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & contains('TEXT')) %>%
filter(!is.na(models_17_TEXT)) %>%
pull(models_17_TEXT) %>% knittr::kable()
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats")
library(tidyverse)
d <- read_csv('./data/survey_march22/stats-survey-rhul_edit.csv')
# -----------------------------------------------------------
# 1
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & !contains('TEXT')) %>%
mutate(id = 1:nrow(.)) %>%
pivot_longer(starts_with('models_'),names_to = 'what') %>%
filter(!is.na(value)) %>%
filter(value!="Other (please specify)") %>%
mutate(value_short = str_extract(value, pattern='^[^:\\.)]*')) %>%
# simplify labels (regex whiz may do it more elegantly)
mutate(value_short = ifelse(str_detect(value_short,"\\((?=e)"),
str_sub(value_short,1,-1 -2),
value_short)) %>%
mutate(value_short = ifelse(str_detect(value_short,"\\("),
str_c(value_short,")"),
value_short)) %>%
group_by(value_short) %>%
summarise(N = length(id)) %>%
arrange(N) %>%
mutate(value_short=as_factor(value_short)) %>%
ggplot(aes(y=value_short, x=N))+
theme_gray(12) +
geom_col() +
labs(y="")
d %>%
filter(Finished==TRUE) %>%
select(starts_with('models_') & contains('TEXT')) %>%
filter(!is.na(models_17_TEXT)) %>%
pull(models_17_TEXT) %>% knitr::kable()
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
??kable
?kable_styling
?kbl
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
#!/usr/bin/env Rscript
rm(list=ls())
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook")
# bookdown::serve_book(dir="/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/RHUL-stats-notebook",
#                      output_dir = "../docs")
# # servr::daemon_stop(1)
bookdown::render_book("index.Rmd", "bookdown::bs4_book",
output_dir = "../docs",
new_session = TRUE)
bookdown::render_book("index.Rmd", "bookdown::pdf_book",
output_dir = "../",
new_session = TRUE)
options(bookdown.clean_book = TRUE)
bookdown::clean_book()
setwd("/mnt/sda2/matteoHDD/git_local_HDD/RHUL-stats/")
system("rm *.md")
system("rm *.tex")
